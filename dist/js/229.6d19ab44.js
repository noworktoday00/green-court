"use strict";(self["webpackChunkgreen_court"]=self["webpackChunkgreen_court"]||[]).push([[229],{5193:function(t,s,l){l.d(s,{Z:function(){return u}});var e=l(3396);const i={class:"container-fluid px-0"},a=(0,e._)("div",{class:"page-banner"},null,-1),o=[a];function n(t,s){return(0,e.wg)(),(0,e.iD)("div",i,o)}var c=l(89);const d={},r=(0,c.Z)(d,[["render",n]]);var u=r},3229:function(t,s,l){l.r(s),l.d(s,{default:function(){return j}});var e=l(3396),i=l(7139);const a={class:"gradient-bg"},o={class:"container py-24"},n={key:0},c=(0,e._)("p",{class:"fs-3 text-white text-center"},"等級媒合球團",-1),d={class:"row row-cols-md-4"},r={class:"card card-opacity text-white"},u={class:"card-body"},h={class:"card-title"},g={class:"list-unstyled"},v={class:"row"},p={class:"btn-group"},w=["onClick"],_=["onClick","disabled"],b={key:0,class:"spinner-border spinner-border-sm",role:"status"},k=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),m=[k],y={class:"row row-cols-md-4"},z={class:"card card-opacity text-white"},C={class:"card-body"},f={class:"card-title"},D={class:"list-unstyled"},P={class:"row"},I={class:"btn-group"},x=["onClick"],L=["onClick","disabled"],M={key:0,class:"spinner-border spinner-border-sm",role:"status"},$=(0,e._)("span",{class:"visually-hidden"},"Loading...",-1),q=[$];function U(t,s,l,k,$,U){const Z=(0,e.up)("Loading"),H=(0,e.up)("ProductBanner");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(Z,{active:$.isLoading},null,8,["active"]),(0,e.Wm)(H),(0,e._)("div",a,[(0,e._)("div",o,[0==!$.levelMatchProducts.length?((0,e.wg)(),(0,e.iD)("div",n,[c,(0,e._)("div",d,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)($.levelMatchProducts,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"p-16",key:t.id},[(0,e._)("div",r,[(0,e._)("div",{style:(0,i.j5)([{backgroundImage:"url("+t.imageUrl+")"},{height:"250px","background-size":"cover"}]),class:"card-img-top",alt:""},null,4),(0,e._)("div",u,[(0,e._)("h5",h,(0,i.zw)(t.title),1),(0,e._)("ul",g,[(0,e._)("li",null,"時間："+(0,i.zw)(t.time)+" "+(0,i.zw)(t.unit),1),(0,e._)("li",null,"地點："+(0,i.zw)(t.location),1),(0,e._)("li",null,"等級： "+(0,i.zw)(t.level-1)+"~"+(0,i.zw)(t.level+1),1),(0,e._)("li",null,"費用： "+(0,i.zw)(t.price),1)]),(0,e._)("div",v,[(0,e._)("div",p,[(0,e._)("button",{class:"btn btn-outline-primary",onClick:s=>U.showDetail(t.id)}," 查看更多 ",8,w),(0,e._)("button",{class:"btn btn-outline-secondary",onClick:s=>U.addToCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,e.wg)(),(0,e.iD)("div",b,m)):(0,e.kq)("",!0),(0,e.Uk)(" 參加球團 ")],8,_)])])])])])))),128))])])):(0,e.kq)("",!0),(0,e._)("div",y,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)($.testProducts,(t=>((0,e.wg)(),(0,e.iD)("div",{class:"p-16",key:t.id},[(0,e._)("div",z,[(0,e._)("div",{style:(0,i.j5)([{backgroundImage:"url("+t.imageUrl+")"},{height:"250px","background-size":"cover"}]),class:"card-img-top",alt:""},null,4),(0,e._)("div",C,[(0,e._)("h5",f,(0,i.zw)(t.title),1),(0,e._)("ul",D,[(0,e._)("li",null,"時間："+(0,i.zw)(t.time)+" "+(0,i.zw)(t.unit),1),(0,e._)("li",null,"地點："+(0,i.zw)(t.location),1),(0,e._)("li",null,"等級： "+(0,i.zw)(t.level-1)+"~"+(0,i.zw)(t.level+1),1),(0,e._)("li",null,"費用： "+(0,i.zw)(t.price),1)]),(0,e._)("div",P,[(0,e._)("div",I,[(0,e._)("button",{class:"btn btn-outline-primary",onClick:s=>U.showDetail(t.id)}," 查看更多 ",8,x),(0,e._)("button",{class:"btn btn-outline-secondary",onClick:s=>U.addToCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,e.wg)(),(0,e.iD)("div",M,q)):(0,e.kq)("",!0),(0,e.Uk)(" 加入購物車 ")],8,L)])])])])])))),128))])])])],64)}l(7658);var Z=l(5193),H={components:{ProductBanner:Z.Z},data(){return{products:[],testProducts:[],product:{},level:0,levelMatchProducts:[],isLoading:!1,status:{loadingItem:""}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/green-court/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.products.forEach((t=>{"教練課"===t.category&&(this.testProducts.push(t),console.log(this.testProducts)),this.level!==t.level+1&&this.level!==t.level-1||"教練課"===t.category&&this.levelMatchProducts.push(t)})),this.isLoading=!1}))},getLevel(){const t=localStorage.getItem("level");this.level=parseInt(t,10),console.log(this.level)},showDetail(t){this.$router.push(`/activities/${t}`)},addToCart(t,s=1){const l="https://vue3-course-api.hexschool.io/api/green-court/cart";this.status.loadingItem=t;const e={product_id:t,qty:s};this.$http.post(l,{data:e}).then((t=>{this.status.loadingItem="",console.log(t),this.$httpMessageState(t,"加入購物車")}))}},created(){this.getProducts(),this.getLevel()}},T=l(89);const Y=(0,T.Z)(H,[["render",U]]);var j=Y}}]);
//# sourceMappingURL=229.6d19ab44.js.map