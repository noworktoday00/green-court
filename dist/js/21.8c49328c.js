"use strict";(self["webpackChunkgreen_court"]=self["webpackChunkgreen_court"]||[]).push([[21],{5193:function(t,s,e){e.d(s,{Z:function(){return u}});var l=e(3396);const i={class:"container-fluid px-0"},a=(0,l._)("div",{class:"page-banner"},null,-1),o=[a];function n(t,s){return(0,l.wg)(),(0,l.iD)("div",i,o)}var c=e(89);const d={},r=(0,c.Z)(d,[["render",n]]);var u=r},21:function(t,s,e){e.r(s),e.d(s,{default:function(){return B}});var l=e(3396),i=e(7139);const a={class:"gradient-bg"},o={class:"container py-24"},n={key:0},c=(0,l._)("p",{class:"fs-3 text-white text-center"},"等級媒合球團",-1),d={class:"row row-cols-md-4"},r={class:"card card-opacity text-white"},u={class:"card-body"},h={class:"card-title"},g={class:"list-unstyled"},v={class:"row"},p={class:"btn-group"},w=["onClick"],_=["onClick","disabled"],b={key:0,class:"spinner-border spinner-border-sm",role:"status"},k=(0,l._)("span",{class:"visually-hidden"},"Loading...",-1),m=[k],y=(0,l._)("p",{class:"fs-3 text-white text-center"},"全部球團",-1),z={class:"row row-cols-md-4"},f={class:"card card-opacity text-white"},C={class:"card-body"},P={class:"card-title"},D={class:"list-unstyled"},x={class:"row"},I={class:"btn-group"},L=["onClick"],M=["onClick","disabled"],$={key:0,class:"spinner-border spinner-border-sm",role:"status"},q=(0,l._)("span",{class:"visually-hidden"},"Loading...",-1),U=[q];function Z(t,s,e,k,q,Z){const H=(0,l.up)("Loading"),T=(0,l.up)("ProductBanner");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(H,{active:q.isLoading},null,8,["active"]),(0,l.Wm)(T),(0,l._)("div",a,[(0,l._)("div",o,[0==!q.levelMatchProducts.length?((0,l.wg)(),(0,l.iD)("div",n,[c,(0,l._)("div",d,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(q.levelMatchProducts,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"p-16",key:t.id},[(0,l._)("div",r,[(0,l._)("div",{style:(0,i.j5)([{backgroundImage:"url("+t.imageUrl+")"},{height:"250px","background-size":"cover"}]),class:"card-img-top",alt:""},null,4),(0,l._)("div",u,[(0,l._)("h5",h,(0,i.zw)(t.title),1),(0,l._)("ul",g,[(0,l._)("li",null,"時間："+(0,i.zw)(t.time)+" "+(0,i.zw)(t.unit),1),(0,l._)("li",null,"地點："+(0,i.zw)(t.location),1),(0,l._)("li",null,"等級： "+(0,i.zw)(t.level-1)+"~"+(0,i.zw)(t.level+1),1),(0,l._)("li",null,"費用： "+(0,i.zw)(t.price),1)]),(0,l._)("div",v,[(0,l._)("div",p,[(0,l._)("button",{class:"btn btn-outline-primary",onClick:s=>Z.showDetail(t.id)}," 查看更多 ",8,w),(0,l._)("button",{class:"btn btn-outline-secondary",onClick:s=>Z.addToCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,l.wg)(),(0,l.iD)("div",b,m)):(0,l.kq)("",!0),(0,l.Uk)(" 參加球團 ")],8,_)])])])])])))),128))])])):(0,l.kq)("",!0),y,(0,l._)("div",z,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(q.testProducts,(t=>((0,l.wg)(),(0,l.iD)("div",{class:"p-16",key:t.id},[(0,l._)("div",f,[(0,l._)("div",{style:(0,i.j5)([{backgroundImage:"url("+t.imageUrl+")"},{height:"250px","background-size":"cover"}]),class:"card-img-top",alt:""},null,4),(0,l._)("div",C,[(0,l._)("h5",P,(0,i.zw)(t.title),1),(0,l._)("ul",D,[(0,l._)("li",null,"時間："+(0,i.zw)(t.time)+" "+(0,i.zw)(t.unit),1),(0,l._)("li",null,"地點："+(0,i.zw)(t.location),1),(0,l._)("li",null,"等級： "+(0,i.zw)(t.level-1)+"~"+(0,i.zw)(t.level+1),1),(0,l._)("li",null,"費用： "+(0,i.zw)(t.price),1)]),(0,l._)("div",x,[(0,l._)("div",I,[(0,l._)("button",{class:"btn btn-outline-primary",onClick:s=>Z.showDetail(t.id)}," 查看更多 ",8,L),(0,l._)("button",{class:"btn btn-outline-secondary",onClick:s=>Z.addToCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?((0,l.wg)(),(0,l.iD)("div",$,U)):(0,l.kq)("",!0),(0,l.Uk)(" 參加球團 ")],8,M)])])])])])))),128))])])])],64)}e(7658);var H=e(5193),T={components:{ProductBanner:H.Z},data(){return{products:[],testProducts:[],product:{},level:0,levelMatchProducts:[],isLoading:!1,status:{loadingItem:""}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/green-court/products/all";this.isLoading=!0,this.$http.get(t).then((t=>{this.products=t.data.products,this.products.forEach((t=>{"臨打團"===t.category&&this.testProducts.push(t),this.level!==t.level+1&&this.level!==t.level-1||"臨打團"===t.category&&this.levelMatchProducts.push(t)})),console.log("全部零打團",this.testProducts),console.log("媒合等級",this.levelMatchProducts),this.isLoading=!1}))},getLevel(){const t=localStorage.getItem("level");this.level=parseInt(t,10),console.log(this.level)},showDetail(t){this.$router.push(`/activities/${t}`)},addToCart(t,s=1){const e="https://vue3-course-api.hexschool.io/api/green-court/cart";this.status.loadingItem=t;const l={product_id:t,qty:s};this.$http.post(e,{data:l}).then((t=>{this.status.loadingItem="",this.$httpMessageState(t,"加入購物車")}))}},created(){this.getProducts(),this.getLevel()}},Y=e(89);const j=(0,Y.Z)(T,[["render",Z]]);var B=j}}]);
//# sourceMappingURL=21.8c49328c.js.map